echo "ğŸš€ Running pre-commit checks..."

# 1. Check for console.log statements
echo "ğŸ“ Checking for console.log statements..."
node scripts/check-console.js

if [ $? -ne 0 ]; then
  echo "âŒ Console.log statements found! Please remove them before committing."
  echo "ğŸ’¡ You can auto-fix by running: npm run console:fix"
  exit 1
fi

# 2. Run ESLint check on src files only
echo "ğŸ” Running ESLint on src files..."
npx eslint src/ --fix

if [ $? -ne 0 ]; then
  echo "âŒ ESLint errors found! Please fix them before committing."
  echo "ğŸ’¡ You can auto-fix some issues by running: npm run lint:fix"
  exit 1
fi

echo "âœ… All pre-commit checks passed!"
